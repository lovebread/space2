<div id='character_<%= params[:id] %>'>
                  <% fields_for "profile[new_characters][#{params[:id]}]", GameCharacter.new do |c| %>
                  <div class="rows s_clear">
                    <div class="fldid"><label>人物昵称：</label></div>
                    <div class="fldvalue">
                      <div class="textfield" style="width: 100px"><%= c.text_field :name, :onblur => "Iyxzone.Register.isCharacterNameValid(#{params[:id]})" %></div>
                    </div>
                    <span class="red" id='character_<%= params[:id] %>_name_error'></span>
                  </div>
                  <div class="rows s_clear">
                    <div class="fldid"><label>级别：</label></div>
                    <div class="fldvalue">
                      <div style="width: 100px;" class="textfield"><%= c.text_field :level, :onblur => "Iyxzone.Register.isCharacterLevelValid(#{params[:id]})" %></div>
                    </div>
                    <span class="red" id='character_<%= params[:id] %>_level_error'></span>
                  </div>
                  <div class="rows s_clear">
                    <div class="fldid"><label for="inbox">游戏：</label></div>
                    <div class="fldvalue">
                      <%= c.collection_select :game_id, @games, :id, :name, {:prompt => '---'} %>
                    </div>
                    <span class='red' id='character_<%= params[:id] %>_game_id_error'></span>
                  </div>
<div class="rows s_clear">
                    <div class="fldid"><label for="inbox">区域：</label></div>
                    <div class="fldvalue">
                      <%= c.collection_select :area_id, [], :id, :name, {:prompt => '---'} %>
                    </div>
                    <span class='red' id='character_<%= params[:id] %>_area_id_error'></span>
                  </div>
                  <div class="rows s_clear">
                    <div class="fldid"><label for="inbox">服务器：</label></div>
                    <div class="fldvalue">
                      <%= c.collection_select :server_id, [], :id, :name, {:prompt => '---'} %>
                    </div>
                    <span class='red' id='character_<%= params[:id] %>_server_id_error'></span>
                  </div>
                  <div class="rows s_clear">
                    <div class="fldid"><label for="inbox">种族：</label></div>
                    <div class="fldvalue">
                      <%= c.collection_select :race_id, [], :id, :name, {:prompt => '---'} %>
                    </div>
                    <span class='red' id='character_<%= params[:id] %>_race_id_error'></span>
                  </div>
                  <div class="rows s_clear">
                    <div class="fldid"><label for="inbox">职业：</label></div>
                    <div class="fldvalue">
                      <%= c.collection_select :profession_id, [], :id, :name, {:prompt => '---'} %>
                    </div>
                    <span class='red' id='character_<%= params[:id] %>_profession_id_error'></span>
                  </div>
                  <div class="rows s_clear">
                    <div class="fldid"><label>正在玩：</label></div>
                    <div class="fldvalue">
                      <%= c.check_box 'playing' %>
                    </div>
                  </div>
                  <% end %>
                  <p class="foot s_clear"><%= link_to_function "删除本游戏角色", "Iyxzone.Register.removeCharacter(#{params[:id]})", :class => 'right red' %></p>
                  <%= javascript_tag "Iyxzone.Register.addGameSelector(#{array_or_string_for_javascript @games.map(&:pinyin).insert(0, '---')}, #{params[:id]}, null)" %>
</div>
